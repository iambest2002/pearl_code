<van-search   value="{{ inputValue }}" placeholder="请输入搜索关键词" use-action-slot bind:change="onChange" bind:search="search">
  <view slot="action" bindtap="search">
    <view slot="action" >
    <image class="icon"  src="../../image/search.png"></image>
    </view>
  </view>
</van-search>


<view class="container">
  <!-- <view class="word-grid">
    <block wx:for="{{words}}" wx:key="index">
      <view class="word-box">
        <view class="word">{{item.word}}</view>
        <view class="translations">
          <block wx:for="{{item.translations}}" wx:key="index">
            <view class="translation-item">
              <text class="type">{{item.type}}: </text>
              <text class="translation">{{item.translation}}</text>
            </view>
          </block>
        </view>
      </view>
    </block>
  </view> -->
  <van-index-bar sticky highlight-color="#96e3fa">
  <block wx:for="{{alphabet}}" wx:key="index">
    <view wx:if="{{wordsGrouped[item]}}">
      <van-index-anchor index="{{item}}" />
      <block wx:for="{{wordsGrouped[item]}}" wx:key="index">
        <view class="word-box" bindtap="navigateToPhrasesPage" data-phrases="{{item.phrases}}">
          <text class="word">{{item.word}}</text>
          <block wx:for="{{item.translations}}" wx:key="type">
            <text class="translation">{{item.translation}} ({{item.type}})</text>
          </block>
        </view>
      </block>
    </view>
  </block>
</van-index-bar>


  



  <!-- 加载更多按钮 -->
  <view wx:if="{{hasMore}}" class="load-more">
    <button bindtap="loadWordsBatch" loading="{{loading}}" disabled="{{loading}}">
      {{loading ? '加载中...' : '加载更多'}}
    </button>
  </view>

  <!-- 没有更多数据的提示 -->
  <view wx:if="{{!hasMore}}" class="no-more">
    <text>没有更多数据了</text>
  </view>
</view>



<block wx:if="{{word}}" wx:key="index">

  <view class="word-wrap">

    <view class="word-line">
      <view class="word">{{inputValue}}</view>
      <button class="add-book" bindtap="showPopup" wx:if="{{bookNameList.length!=0}}">
        +加入生词本
      </button>
      <button class="add-book" bindtap="toBook" wx:if="{{bookNameList.length==0}}">
        +加入生词本
      </button>
    </view>


    <view class="tag-wrap">
      <block wx:for="{{word.basic.tags}}">
        <view class="tag">{{item}}</view>
      </block>
    </view>

    <audio controls="true" name="{{inputValue}}" author="词典" src="http://dict.youdao.com/dictvoice?audio={{inputValue}}"></audio>

  </view>

  <view class="word-wrap">
    <view class="word-title">音标</view>
    <view>英式：{{word.basic.ph}}</view>
    <view>美式：{{word.basic.usPh}}</view>
  </view>

  <view class="word-wrap">
    <view class="word-title">常用释义</view>
    <view wx:for="{{word.basic.explains}}">
      {{item}}
    </view>
  </view>

  <view class="word-wrap">
    <view class="word-title">词态变化</view>
    <view wx:for="{{word.basic.tense}}">
      {{item.name}} : {{item.value}}
    </view>
  </view>
</block>

<!-- 弹出框 -->
<van-popup show="{{ showPopup }}" bind:close="onClose" position="bottom">
    <van-picker show-toolbar title="选择生词本" columns="{{bookNameList}}" bind:confirm="onPickerConfirm" bind:cancel="onPickerCancel"
    confirm-button-text="确定" cancel-button-text="取消" />
    <textarea placeholder="请输入备注" bindinput="getNote"></textarea>
</van-popup>



<!-- 滑到底部按钮
<view class="scroll-to-bottom" bindtap="scrollToBottom">
  <image class="icon" src="../../image/down.png"></image>
</view> 
-->

<view class="scroll-buttons-container">
    <!-- 一键上滑按钮 -->
    <view class="scroll-button-up" bindtap="scrollToTop">
      <image class="icon" src="../../image/up.png"></image>
    </view>

    <!-- 一键下滑按钮 -->
    <view class="scroll-button" bindtap="scrollToBottom">
      <image class="icon" src="../../image/down.png"></image>
    </view>
  </view>

